{% load static %}

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Accept-CH" content="sec-ch-ua-platform-version,sec-ch-ua-full-version,sec-ch-ua-full-version-list,sec-ch-ua-model,sec-ch-ua-arch,sec-ch-ua-bitness,sec-ch-ua-wow64" />
    <title>{% block title %}{% endblock title%}</title>
    <meta
      name="description"
      content="{% block description %}{% endblock description %}"
    />
    <link rel="icon" href="{% static 'img/favicon.png' %}" type="image/png" />
    <!-- FONT AWESOME CONTENT VALUES -->
    <script
      src="https://kit.fontawesome.com/2844112c82.js"
      crossorigin="anonymous"
    ></script>
    <!-- BOOTSTRAP CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <!-- OPEN GRAPH -->
    <meta property="og:title" content="{% block titleop %}{% endblock titleop%}" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="justsale.com" />
    <meta property="og:image" content="" />
    <meta property="og:description" content="{% block descriptionop %}{% endblock descriptionop %}"/>

   
    <!-- AOS SCROLL -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- Racaptcha -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <link rel="stylesheet" href="{% static 'css/all.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/estilos.css' %}" />

  </head>
 
  
  <body>
    <a id="topscroll"></a>
    <div class="flotante">
      <div class="div-flotante">      
        <a
          href="https://wa.me/5215516323159?text=Informes+JustSale+me+interesa+vender+mi+inmueble"
          target="__blank"
        >
        <i class="fa-brands fa-whatsapp fa-2x m-2"></i>

        </a>
      </div>
    </div>

    <div class="flotante-2">
        <i class="fa-solid fa-circle-chevron-down fa-bounce fa-2x icon-hide icon icon-show" id="downscroll"></i>
    </div>
    {% load env_extras %}
    
    
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
    <script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
    <script src="{% static 'js/jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'js/infinite.min.js' %}"></script> 
    <script src="{% static 'js/all.min.js' %}"></script>
    <script src="{% static 'js/custom.js' %}"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
    <script>
      window.onload = function () {
        var $recaptcha = document.querySelector('#g-recaptcha-response');
        if ($recaptcha) {
          $recaptcha.setAttribute("required", "required");
        }
      };
    </script>
    <script type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  
  <script type="text/javascript">
    emailjs.init('user_gGHZQEDHJmDEjuOwEPoep')
  </script>
    <script>
        "{% load env_extras %}"
       "use strict";
    window.addEventListener(
      "load",
      function () {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName("needs-validation");
        var myModalGracias = new bootstrap.Modal(
          document.getElementById("modalGracias"),
          {}
        );
        var myModalError = new bootstrap.Modal(
          document.getElementById("modalError"),
          {}
        );
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function (form) {
          form.addEventListener(
            "submit",
            function (event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              event.preventDefault();
              try {
                var template_params = {
                  nombre_completo: document.getElementById("nombre_completo").value,
                  telefono_contacto: document.getElementById("telefono_contacto").value,
                  correo_contacto: document.getElementById("correo_contacto").value,
                  propuesta: document.getElementById("propuesta").value,
                  ubicacion_contacto: document.getElementById("ubicacion_contacto").value,
                  gravamen: document.getElementById("gravamen").value,
                  metas_contacto: document.getElementById("metas_contacto").value,
                  medio_contacto: document.getElementById("medio_contacto").value,
                  mensaje_contacto: document.getElementById("mensaje_contacto").value,
                  'g-recaptcha-response': "6LcyCMslAAAAALJQJn7OqFlgSHLrKcedI1QF6K9w",        
                };
                emailjs.send(
                  "service_g8uwlxg",
                  "template_r3wfji4",
                  template_params
                );
                myModalGracias.show();
                setTimeout(function () {
                  myModalGracias.hide();
                }, 3000);
              } catch (error) {
                myModalError.show();
                setTimeout(function () {
                  myModalError.hide();
                }, 3000);
                console.log(error);
              }
              nombre_completo.value = "";
              telefono_contacto.value = "";
              correo_contacto.value = "";
              propuesta.value = "";
              ubicacion_contacto.value = "";
              gravamen.value = "";
              metas_contacto.value = "";
              medio_contacto.value = "";
              mensaje_contacto.value = "";
              grecaptcha.reset();
            },
            false
          );
        });
      },
      false
    );
    </script>
    
    <!-- FIN TOP SCROLL -->
    {% block content %}{% endblock content %}

  </body>

</html>
